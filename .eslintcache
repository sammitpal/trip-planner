[{"E:\\react\\trip_planner\\src\\index.js":"1","E:\\react\\trip_planner\\src\\App.js":"2","E:\\react\\trip_planner\\src\\reportWebVitals.js":"3","E:\\react\\trip_planner\\src\\components\\Header.js":"4","E:\\react\\trip_planner\\src\\components\\Body.js":"5","E:\\react\\trip_planner\\src\\components\\Card.js":"6","E:\\react\\trip_planner\\src\\components\\Footer.js":"7","E:\\react\\trip_planner\\src\\components\\SeachPage.js":"8","E:\\react\\trip_planner\\src\\components\\SearchResult.js":"9","E:\\react\\trip_planner\\src\\components\\firebase.js":"10","E:\\react\\trip_planner\\src\\components\\reducer.js":"11","E:\\react\\trip_planner\\src\\components\\StateProvider.js":"12","E:\\react\\trip_planner\\src\\components\\CheckOut.js":"13","E:\\react\\trip_planner\\src\\components\\axios.js":"14","E:\\react\\trip_planner\\src\\components\\Popup.js":"15","E:\\react\\trip_planner\\src\\components\\Bookings.js":"16","E:\\react\\trip_planner\\src\\components\\Booking.js":"17"},{"size":712,"mtime":1610001059747,"results":"18","hashOfConfig":"19"},{"size":1731,"mtime":1610081073830,"results":"20","hashOfConfig":"19"},{"size":362,"mtime":499162500000,"results":"21","hashOfConfig":"19"},{"size":1998,"mtime":1610080746185,"results":"22","hashOfConfig":"19"},{"size":441,"mtime":1609917604618,"results":"23","hashOfConfig":"19"},{"size":1271,"mtime":1609936089379,"results":"24","hashOfConfig":"19"},{"size":569,"mtime":1609936615985,"results":"25","hashOfConfig":"19"},{"size":1284,"mtime":1610081457058,"results":"26","hashOfConfig":"19"},{"size":1032,"mtime":1610023078251,"results":"27","hashOfConfig":"19"},{"size":602,"mtime":1610020429423,"results":"28","hashOfConfig":"19"},{"size":354,"mtime":1610001004859,"results":"29","hashOfConfig":"19"},{"size":487,"mtime":1610001004897,"results":"30","hashOfConfig":"19"},{"size":4138,"mtime":1610086496480,"results":"31","hashOfConfig":"19"},{"size":220,"mtime":1610088854399,"results":"32","hashOfConfig":"19"},{"size":757,"mtime":1610081268852,"results":"33","hashOfConfig":"19"},{"size":875,"mtime":1610087053418,"results":"34","hashOfConfig":"19"},{"size":771,"mtime":1610087225686,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"1i3fn2h",{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"38"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"38"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"E:\\react\\trip_planner\\src\\index.js",[],["74","75"],"E:\\react\\trip_planner\\src\\App.js",["76","77"],"import \"./App.css\";\nimport Body from \"./components/Body\";\nimport Header from \"./components/Header\";\nimport Card from \"./components/Card\";\nimport Footer from \"./components/Footer\";\nimport SeachPage from \"./components/SeachPage\"\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { useStateValue } from \"./components/StateProvider\";\nimport { auth } from \"./components/firebase\";\nimport {useEffect} from 'react'\nimport {loadStripe} from '@stripe/stripe-js'\nimport {Elements} from '@stripe/react-stripe-js'\nimport CheckOut from \"./components/CheckOut\";\nimport Bookings from \"./components/Bookings\";\n\nconst promise = loadStripe('pk_test_51I7BmYCkA4xmto7qRw65OUlN16jSSXnUMG3occDqD0vRfSCFcdq8rRHFDaaYyeC3ympsNciooYReG81hKYF9E9bQ000pMpcb8A');\n\nfunction App() {\n  const [{user},dispatch] = useStateValue();\n  useEffect(()=>{\n    auth.onAuthStateChanged(authUser => {\n      console.log(\"USER ->\", authUser);\n      if(authUser){\n        dispatch({\n          type: 'SET_USER',\n          user: authUser\n        })\n      }\n      else{\n        dispatch({\n          type: 'SET_USER',\n          user: null\n        })\n      }\n    })\n  },[])\n  return (\n    <div className=\"App\">\n      <Router>\n        <Header />\n        <Switch>\n          <Route path=\"/searchPage\">\n            <SeachPage/>\n          </Route>\n          <Route path=\"/bookings\">\n            <Bookings/>\n          </Route>\n          <Route path=\"/checkout/:tripid\">\n            <Elements stripe={promise}>\n            <CheckOut/>\n            </Elements>\n          </Route>\n          <Route path=\"/\">\n            <Body />\n            <Card />\n          </Route>\n        </Switch>\n        <Footer />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","E:\\react\\trip_planner\\src\\reportWebVitals.js",[],"E:\\react\\trip_planner\\src\\components\\Header.js",[],"E:\\react\\trip_planner\\src\\components\\Body.js",["78"],"import { Button } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport \"./Body.css\";\r\nfunction Body() {\r\n  return (\r\n    <div className=\"body\">\r\n      <div className=\"bodyTags\">\r\n        <h1>Make Your Trip Amazing With Us</h1>\r\n        <h3>\r\n          Travel to the any corner of the world,without going around in circles\r\n        </h3>\r\n        <button>Book Now</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Body;\r\n","E:\\react\\trip_planner\\src\\components\\Card.js",[],"E:\\react\\trip_planner\\src\\components\\Footer.js",[],"E:\\react\\trip_planner\\src\\components\\SeachPage.js",[],"E:\\react\\trip_planner\\src\\components\\SearchResult.js",[],"E:\\react\\trip_planner\\src\\components\\firebase.js",[],"E:\\react\\trip_planner\\src\\components\\reducer.js",[],"E:\\react\\trip_planner\\src\\components\\StateProvider.js",[],"E:\\react\\trip_planner\\src\\components\\CheckOut.js",["79","80"],"import { Star } from \"@material-ui/icons\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { db } from \"./firebase\";\r\nimport \"./CheckOut.css\";\r\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport axios from \"./axios\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport firebase from 'firebase'\r\nfunction CheckOut() {\r\n  const [{ user }] = useStateValue();\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const { tripid } = useParams();\r\n  const [trip, setTrip] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [processing, setProcessing] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const [clientSecret, setClientSecret] = useState(true);\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    if (tripid) {\r\n      db.collection(\"tripplanner\")\r\n        .doc(tripid)\r\n        .onSnapshot((snapshot) => {\r\n          setTrip(snapshot.data());\r\n        });\r\n    }\r\n  }, [tripid]);\r\n  useEffect(() => {\r\n    const getClientSecret = async () => {\r\n      const response = await axios({\r\n        method: \"post\",\r\n        // Stripe expects the total in a currencies subunits\r\n        url: `/payments/create?total=${trip?.price}`,\r\n      });\r\n      setClientSecret(response.data.clientSecret);\r\n    };\r\n    getClientSecret();\r\n  }, [trip]);\r\n  console.log(\"Client Secret: \", clientSecret);\r\n  const handleSubmit = async (event) => {\r\n    // do all the fancy stripe stuff...\r\n    event.preventDefault();\r\n    setProcessing(true);\r\n\r\n    const payload = await stripe\r\n      .confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardElement),\r\n        },\r\n      })\r\n      .then(({ paymentIntent }) => {\r\n        // paymentIntent = payment confirmation\r\n\r\n        db.collection(\"users\").doc(user?.uid).collection(\"bookings\").doc(paymentIntent?.id).set(\r\n          {\r\n            trip: trip,\r\n            payid: paymentIntent.id,\r\n            amount: paymentIntent.amount,\r\n            created: paymentIntent.created,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp()\r\n          }\r\n        )\r\n\r\n        setSuccess(true);\r\n        setError(null);\r\n        setProcessing(false);\r\n\r\n        history.replace(\"/bookings\");\r\n      });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setDisabled(e.empty);\r\n    setError(e.error ? e.error.message : \"\");\r\n  };\r\n  return (\r\n    <div className=\"checkoutPage\">\r\n      <div className=\"checkout\">\r\n        <img src={trip.img} alt=\"\" />\r\n        <div className=\"result_info\">\r\n          <div className=\"info_header\">\r\n            <p>{trip.location}</p>\r\n            <h2>{trip.title}</h2>\r\n            <p>{trip.description}</p>\r\n          </div>\r\n          <div className=\"info_footer\">\r\n            <p>\r\n              <Star className=\"star\" /> {trip.star}\r\n            </p>\r\n            <h4>₹{trip.price}/night</h4>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"payment\">\r\n        <form onSubmit={handleSubmit}>\r\n          <CardElement onChange={handleChange} />\r\n          <div className=\"payment_price\">\r\n            <CurrencyFormat\r\n              renderText={(value) => (\r\n                <>\r\n                  <p>\r\n                    {/* Part of the homework */}\r\n                    Subtotal <strong>{value}</strong>\r\n                  </p>\r\n                </>\r\n              )}\r\n              decimalScale={2}\r\n              value={trip.price} // Part of the homework\r\n              displayType={\"text\"}\r\n              thousandSeparator={true}\r\n              prefix={\"₹\"}\r\n            />\r\n            <button disabled={disabled || processing || success}>\r\n              {processing ? <p>Processing</p> : \"Buy Now\"}\r\n            </button>\r\n          </div>\r\n          {error && <div>{error}</div>}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckOut;\r\n","E:\\react\\trip_planner\\src\\components\\axios.js",[],"E:\\react\\trip_planner\\src\\components\\Popup.js",[],"E:\\react\\trip_planner\\src\\components\\Bookings.js",[],"E:\\react\\trip_planner\\src\\components\\Booking.js",[],{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","severity":1,"message":"86","line":19,"column":11,"nodeType":"87","messageId":"88","endLine":19,"endColumn":15},{"ruleId":"89","severity":1,"message":"90","line":36,"column":5,"nodeType":"91","endLine":36,"endColumn":7,"suggestions":"92"},{"ruleId":"85","severity":1,"message":"93","line":1,"column":10,"nodeType":"87","messageId":"88","endLine":1,"endColumn":16},{"ruleId":"85","severity":1,"message":"93","line":8,"column":10,"nodeType":"87","messageId":"88","endLine":8,"endColumn":16},{"ruleId":"85","severity":1,"message":"94","line":50,"column":11,"nodeType":"87","messageId":"88","endLine":50,"endColumn":18},"no-native-reassign",["95"],"no-negated-in-lhs",["96"],"no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["97"],"'Button' is defined but never used.","'payload' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"98","fix":"99"},"Update the dependencies array to be: [dispatch]",{"range":"100","text":"101"},[1150,1152],"[dispatch]"]